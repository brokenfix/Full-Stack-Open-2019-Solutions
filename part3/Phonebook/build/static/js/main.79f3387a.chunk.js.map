{"version":3,"sources":["Person.js","Search.js","Services.js","Notification.js","App.js","index.js"],"names":["Person","name","number","Search","collection","useState","found","setFound","input","setInput","value","onChange","event","preventDefault","target","trim","filter","i","toLowerCase","includes","map","key","url","axios","get","newPerson","post","id","delete","obj","put","Notification","text","console","log","className","Button","handler","onClick","App","persons","setPersons","newName","setNewName","newNumber","setNewNumber","notification","setNotification","useEffect","services","then","response","data","catch","error","setTimeout","onSubmit","some","window","confirm","foundPerson","find","filtered","concat","type","person","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.79f3387a.chunk.js","sourcesContent":["import React from \"react\";\n\nconst Person  = ({name,number})=> <span> {name} : {number}</span>\n\nexport default Person","import React, {useState} from \"react\";\nimport Person from \"./Person\";\n\nconst Search = ({collection})=> {\n    const [found , setFound] = useState([])\n    const [input , setInput] = useState(\"\")\n\n    const inputTextChangeHandler = (event)=> {\n        event.preventDefault();\n        setInput(event.target.value)\n\n        if(event.target.value.trim()===''){\n            setFound([]);\n            return;\n        }\n        setFound(collection.filter(i => i.name.toLowerCase().includes(event.target.value.toLowerCase())))\n    }\n\n\n    return (\n        <div>\n            <form>\n                filter shown with: <input value={input} onChange={inputTextChangeHandler}/>\n            </form>\n            <ul>\n            {found.map(i=> <li key={i.number}> <Person name={i.name} number={i.number}/> </li>)}\n            </ul>\n        </div>\n    )\n}\n\nexport default Search;","import axios from 'axios';\n\nconst url = '/api/persons';\n\nconst getAll = () => axios.get(url);\n\nconst add = (newPerson) =>axios.post(url, newPerson);\n\nconst delContact = (id) => axios.delete(`${url}/${id}`);\n\nconst update = (id, obj) => axios.put(`${url}/${id}`, obj);\n\nexport default {getAll, add, delContact, update};\n\n","import React from \"react\";\n\nconst Notification = ({text})=> {\n    console.log(\"in notif \", text)\n    if (text == null){\n        return null;\n    }\n    return <div className= 'notification'>{text}</div>\n}\n\nexport default Notification;","import React, { useState, useEffect } from 'react'\nimport Person from \"./Person\";\nimport Search from \"./Search\";\nimport services from \"./Services\";\nimport Notification from \"./Notification\";\n\nconst App = () => {\n    const [ persons, setPersons] = useState([])\n    const [ newName, setNewName ] = useState('')\n    const [newNumber, setNewNumber] = useState('')\n    const [notification, setNotification] = useState(null)\n\n    useEffect(() =>{\n        services.getAll().then(response => {\n            setPersons(response.data);\n        })\n            .catch(error => {\n                setNotification(\"Error happened while retrieving the Data\");\n                setTimeout(() => setNotification(null));\n            } )\n    },[])\n\n    const textChangeHandler = (event)=>{\n        event.preventDefault()\n        setNewName(event.target.value)\n    }\n\n    const numberChangeHandler = (event)=>{\n        event.preventDefault()\n        setNewNumber(event.target.value)\n    }\n\n    const submitHandler = (event)=>{\n        event.preventDefault()\n        if(persons.some((i)=>i.name===newName)){\n            if(!window.confirm(`${newName} is already present in the phonebook, replace the old number with a new one?`)){\n                return;\n            }\n\n            let foundPerson  = persons.find(i => i.name === newName)\n            services.update(foundPerson.id, {name: newName, number: newNumber})\n                .then(response => {\n                    let filtered = persons.filter( i => i.id !== foundPerson.id)\n                    setPersons(filtered.concat(response.data))\n                    setNotification(`updated ${newName}`)\n                    setTimeout(()=> setNotification(null), 2000);\n                })\n                .catch(() => {\n                    setNotification(\"Note has already been removed\")\n                    setTimeout(() => setNotification(null),2000)\n                });\n        }\n        else{\n            services.add({name: newName, number: newNumber})\n                .then(response => {\n                    setPersons(persons.concat(response.data));\n                    setNotification(`added ${newName}`)\n                    setTimeout(()=> setNotification(null), 2000);\n                })\n                .catch(error => {\n                    setNotification(`Error!! Contact not saved. Please try again later!`)\n                    setTimeout(()=> setNotification(null), 10000);\n\n                })\n        }\n        setNewName('')\n        setNewNumber('')\n    }\n\n    const deleteHandler = (id) => {\n        if(!window.confirm(`would you like to delete ${persons.find(i => i.id === id).name}`)){\n            return;\n        }\n        services.delContact(id)\n            .then(() => setPersons(persons.filter(i => i.id !== id)))\n            .catch(error => {\n                setNotification(\"Note has already been removed\");\n                setTimeout(() => setNotification(null),2000)\n            })\n    }\n\n    return (\n        <div>\n            <h2>Phonebook</h2>\n            <Notification text = {notification}/>\n            <Search collection={persons}/>\n            <h2>Add a new</h2>\n            <form onSubmit={submitHandler}>\n                <div>\n                    Name: <input value={newName} onChange={textChangeHandler}  />\n                    <br/>\n                    Number: <input value={newNumber} onChange={numberChangeHandler}  />\n                </div>\n                <div>\n                    <button type=\"submit\" >add</button>\n                </div>\n            </form>\n            <h2>Numbers</h2>\n            {persons.map((person) => <li key = {person.id} ><Person  name={person.name} number={person.number}/>\n                                                            <Button text={'Delete'} handler={() => deleteHandler(person.id)} /> </li>)}\n        </div>\n    )\n}\n\nconst Button = ({text,handler})=> <button onClick={handler}>{text}</button>\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}